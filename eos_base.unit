#!/usr/local/bin/koios
#   koios-polos (north star) -- customized c unit testing meta-program and mini-language
#   program under test  : eos_base
#   auto-generated script file converted from a previous script version



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
PREP          include the prototype headers                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include public header                eos.h                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP          (BASE) verify auto-loading configuration file                      BASE_config                                                                                           ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     initialize the system                prog__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     local    create working variable              - - - - - - - - - - - - -   char    x_path   [LEN_PATH]  = "/tmp/";                                                                                                                                                                                    
     local    create working variable              - - - - - - - - - - - - -   char    x_name   [LEN_LABEL] = "eos.conf";                                                                                                                                                                                 
     local    create working variable              - - - - - - - - - - - - -   char    x_full   [LEN_PATH]  = "/tmp/eos.conf";                                                                                                                                                                            

   COND       save current home                                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((17.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     local    create working variable              - - - - - - - - - - - - -   char    x_cwd    [LEN_PATH]  = "";                                                                                                                                                                                         
     code     save home path                       - - - - - - - - - - - - -   getcwd (x_cwd , LEN_PATH);                                                                                                                                                                                                 

   COND       save current home                                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((17.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       attempt with missing file                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((06.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     remove file                          yURG_rm                     x_full                                                                                                i_equal     0                                                                                                    
     exec     call pull                            BASE_pull_detail            YJOBS_CENTRAL  , x_full         , x_name         , "root"         , 0                                 i_lesser    0                                                                                                    

   COND       create a configuration file                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     add she-bang                         - - - - - - - - - - - - -   system ("echo \"#!/bin/eos\"                                                                                                                                               > /tmp/eos.conf");                              
     code     add empty                            - - - - - - - - - - - - -   system ("echo \"\"                                                                                                                                                        >> /tmp/eos.conf");                              
     code     add group                            - - - - - - - - - - - - -   system ("echo \"GROUP     § basic      § a first test               § -user---- § -dur- § -cntrs- § ---command----------------------------------- §\"                     >> /tmp/eos.conf");                              
     code     add a proc                           - - - - - - - - - - - - -   system ("echo \"  config  § fast       § a quick little proc        § root      §    1s § L-·k--· § /bin/true                                     §\"                     >> /tmp/eos.conf");                              
     code     add a proc                           - - - - - - - - - - - - -   system ("echo \"  daemon  § slower     § turtle-like task           § member    §   10s § H-·r9-· § /bin/sleep 10                                 §\"                     >> /tmp/eos.conf");                              
     code     add empty                            - - - - - - - - - - - - -   system ("echo \"\"                                                                                                                                                        >> /tmp/eos.conf");                              
     code     add group                            - - - - - - - - - - - - -   system ("echo \"GROUP     § second     § another test line          § -user---- § -dur- § -cntrs- § ---command----------------------------------- §\"                     >> /tmp/eos.conf");                              
     code     add sequence                         - - - - - - - - - - - - -   system ("echo \"  AFTER   § basic      § -------------------------- § --------- § ----- § --·---· § - - - - - - - - - - - - - - - - - - - - - - - §\"                     >> /tmp/eos.conf");                              
     code     add a proc                           - - - - - - - - - - - - -   system ("echo \"  mount   § jumble     § first in line              § portage   §    1m § My·g72· § /bin/false                                    §\"                     >> /tmp/eos.conf");                              
     code     add a proc                           - - - - - - - - - - - - -   system ("echo \"  serial  § puzzle     § in the middle              § portage   §    3s § -Y·-tD· § /bin/false                                    §\"                     >> /tmp/eos.conf");                              
     code     add a proc                           - - - - - - - - - - - - -   system ("echo \"  once    § tangle     § last in line               § portage   §    2m § -y·---· § /bin/false                                    §\"                     >> /tmp/eos.conf");                              
     code     add empty                            - - - - - - - - - - - - -   system ("echo \"\"                                                                                                                                                        >> /tmp/eos.conf");                              
     code     add whimper                          - - - - - - - - - - - - -   system ("echo \"## end of file\"                                                                                                                                          >> /tmp/eos.conf");                              

   COND       verify will basic file                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((06.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call pull                            BASE_pull_detail            YJOBS_CENTRAL  , x_full         , x_name         , "root"         , 0                                 i_equal     0                                                                                                    

   COND       check on groups                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.007))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ... group count                      group__unit                 "count"                , 0                                                                            s_equal     GROUP count      : 2                                                                                 
     get      ... group entry                      group__unit                 "entry"                , 0                                                                            s_equal     GROUP entry ( 0) :  5åbasicæ             3  12åa first testæ                                         
     get      ... group entry                      group__unit                 "entry"                , 1                                                                            s_equal     GROUP entry ( 1) :  6åsecondæ            7  17åanother test lineæ                                    
     get      ... group entry                      group__unit                 "entry"                , 2                                                                            s_equal     GROUP entry ( 2) :  ·åæ                  ·   ·åæ                                                     

   COND       check on sequencing                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ... group exec                       group__unit                 "exec"                 , 0                                                                            s_equal     GROUP exec  ( 0) :  5åbasicæ            2  0 -  1åSEQ_ALPHAæ                          0    0    0 -         
     get      ... group exec                       group__unit                 "exec"                 , 1                                                                            s_equal     GROUP exec  ( 1) :  6åsecondæ           3  0 -  1åbasicæ                              0    0    0 -         
     get      ... group exec                       group__unit                 "exec"                 , 2                                                                            s_equal     GROUP exec  ( 2) :  ·åæ                 ·  · ·  ·åæ                                   ·    ·    · ·

   COND       check on procs                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ... proc count                       proc__unit                  "count"                , 0                                                                            s_equal     PROC count       : 5                                                                                 
     get      ... proc entry                       proc__unit                  "entry"                , 0                                                                            s_equal     PROC entry  ( 0) :  5åbasicæ             4åfastæ             c   9å/bin/trueæ                           
     get      ... proc entry                       proc__unit                  "entry"                , 1                                                                            s_equal     PROC entry  ( 1) :  5åbasicæ             6åsloweræ           d  13å/bin/sleep 10æ                       
     get      ... proc entry                       proc__unit                  "entry"                , 2                                                                            s_equal     PROC entry  ( 2) :  6åsecondæ            6åjumbleæ           m  10å/bin/falseæ                          
     get      ... proc entry                       proc__unit                  "entry"                , 3                                                                            s_equal     PROC entry  ( 3) :  6åsecondæ            6åpuzzleæ           s  10å/bin/falseæ                          
     get      ... proc entry                       proc__unit                  "entry"                , 4                                                                            s_equal     PROC entry  ( 4) :  6åsecondæ            6åtangleæ           b  10å/bin/falseæ                          
     get      ... proc entry                       proc__unit                  "entry"                , 5                                                                            s_equal     PROC entry  ( 5) :  ·åæ                  ·åæ                 ·   ·åæ                                    

   COND       check on procs                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ... proc details                     proc__unit                  "detail"               , 0                                                                            s_equal     PROC detail ( 0) : l - ´  årootæ           0     1     0 -    -1  -     0     0 -     0   k - - -    
     get      ... proc details                     proc__unit                  "detail"               , 1                                                                            s_equal     PROC detail ( 1) : v - ´  åmemberæ      1000    10     0 -    -1  -     0     0 -     0   r 9 - -    
     get      ... proc details                     proc__unit                  "detail"               , 2                                                                            s_equal     PROC detail ( 2) : w y ´  åportageæ      250    60     0 -    -1  -     0     0 -     0   g 7 2 -    
     get      ... proc details                     proc__unit                  "detail"               , 3                                                                            s_equal     PROC detail ( 3) : - - ´  åportageæ      250     3     0 -    -1  -     0     0 -     0   - t D -    
     get      ... proc details                     proc__unit                  "detail"               , 4                                                                            s_equal     PROC detail ( 4) : - y ´  åportageæ      250   120     0 -    -1  -     0     0 -     0   - - - -    
     get      ... proc details                     proc__unit                  "detail"               , 5                                                                            s_equal     PROC detail ( 5) : · · ·  åæ               ·     ·     · ·     ·  ·     ·     · ·     ·   · · · ·    

   COND       clean up testing files                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.011))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     ... remove file                      - - - - - - - - - - - - -   system ("rm -f /tmp/eos*.conf");                                                                                                                                                                                           

   COND       wrap up testing                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.015))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up                              prog__unit_end                                                                                                                    i_equal     0                                                                                                    



# end-of-file
